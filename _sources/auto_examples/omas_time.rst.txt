
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples/omas_time.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_auto_examples_omas_time.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_omas_time.py:


Time in OMAS
============
This example illustrates how OMAS can handle the time dimension

.. GENERATED FROM PYTHON SOURCE LINES 8-75

.. code-block:: default


    from omas import *

    # test generation of a sample ods
    ods = ODS()
    ods['equilibrium.time_slice'][0]['time'] = 100
    ods['equilibrium.time_slice.0.global_quantities.ip'] = 0.0
    ods['equilibrium.time_slice'][1]['time'] = 200
    ods['equilibrium.time_slice.1.global_quantities.ip'] = 1.0
    ods['equilibrium.time_slice'][2]['time'] = 300
    ods['equilibrium.time_slice.1.global_quantities.ip'] = 2.0

    # get time information from children
    extra_info = {}
    print(ods.time('equilibrium', extra_info=extra_info))
    # >>  [100 200 300]
    print(extra_info)
    # >>  {'location': 'equilibrium.time_slice.:.time', 'homogeneous_time': True}

    # show use of .homogeneous_time property
    print(ods.homogeneous_time('equilibrium'))
    # >>  True

    # time arrays can be set using `set_time_array` function
    # this simplifies the logic in the code since one does not
    # have to check if the array was already there or not
    ods.set_time_array('equilibrium.time', 0, 101)
    ods.set_time_array('equilibrium.time', 1, 201)
    ods.set_time_array('equilibrium.time', 2, 302)

    # the make the timeslices consistent
    ods['equilibrium.time_slice'][0]['time'] = 101
    ods['equilibrium.time_slice'][1]['time'] = 201
    ods['equilibrium.time_slice'][2]['time'] = 302

    # get time information from explicitly set time array
    extra_info = {}
    print(ods.time('equilibrium', extra_info=extra_info))
    # >>  [101 201 301]
    print(extra_info)
    # >>  {'location': '.time', 'homogeneous_time': True}

    # get time value from item in array of structures
    extra_info = {}
    print(ods['equilibrium.time_slice'][0].time(extra_info=extra_info))
    # >>  101
    print(extra_info)
    # >>  {'location': 'equilibrium.time_slice.0.time', 'homogeneous_time': True}

    # get time array from array of structures
    extra_info = {}
    print(ods['equilibrium.time_slice'].time(extra_info=extra_info))
    # >>  [101 201 302]
    print(extra_info)
    # >>  {'location': 'equilibrium.time_slice.:.time', 'homogeneous_time': True}

    # get time from parent
    extra_info = {}
    print(ods.time('equilibrium.time_slice.0.global_quantities.ip', extra_info=extra_info))
    # >>  101
    print(extra_info)
    # >>  {'location': '.time', 'homogeneous_time': None}

    # slice whole ODS at given time
    ods1 = ods['equilibrium'].slice_at_time(101)
    print(ods.time('equilibrium'))
    # >>  [101]


.. _sphx_glr_download_auto_examples_omas_time.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example




    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: omas_time.py <omas_time.py>`

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: omas_time.ipynb <omas_time.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
